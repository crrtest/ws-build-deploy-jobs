---

rundeck_job_ids:
  test:
  qa:
  prod:

rundeck_acls:
  system:
    description: 'Allow everyone to see the project'
    context:
      application: 'rundeck'
    for:
      resource:
        - equals:
            kind: project
          allow: ['read']
      project:
        - equals:
            name: 'public'
          allow: ['read']
    by:
      group: user
  batch:
    - description: 'Allow everyone to see the project'
      for:
        resource:
          - equals:
              kind: event
            allow: ['read']
        job:
          - subset:
              group: ['test', 'qa', 'prod']
            allow: ['read','run']
        node:
          - allow: '*' # allow read/run for all nodes
      by:
        group: user
